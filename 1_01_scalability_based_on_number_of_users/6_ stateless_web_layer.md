## 무상태(stateless) 웹 계층

웹 계층을 수평적으로 확장하기 위해서는 상태 정보(사용자 세션 데이터와 같은)를 웹 계층에서 제거하여야 함.
바람직한 전략은 상태 정보를 관계형 DB나 NoSQL같은 지속성 저장소에 보관 후 필요할 때 가져오도록 하는 것.
이를 무상태 웹 계층이라고 한다.

### 상태 정보 의존적인 아키텍쳐

- 상태 정보를 보관하는 서버는 클라이언트 정보(=상태)를 유지하여 요청들 사이에 공유되도록 한다. 무상태 서버에는 이런 장치가 없다.
- 서버가 여러 대일 때 한 사용자의 요청은 하나의 서버에 일관되게 전송되도록 해야 한다. -> 로드밸런서가 고정 세션(sticky session)이라는 기능을 제공하고 있으나 이는 로드밸런서에 부담을 준다. 로드밸런서 뒷단에 서버 추가/제거도 까다로워진다. 서버의 장애를 처리하기도 복잡해진다.

### 무상태 아키텍쳐

- 사용자의 요청은 어떤 서버로도 전달될 수 있다.
- 웹 서버는 상태 정보가 필요할 경우 공유 저장소(shared storage)로부터 데이터를 가져온다.
- 상태 정보는 웹 서버로부터 물리적으로 분리된다.
- 구조가 단순하고, 안정적이며, 규모 확장이 쉽다
